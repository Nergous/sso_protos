syntax = "proto3";

package auth;

option go_package = "nergous.sso.v2;ssov2";

service App {
    rpc GetApp(GetAppRequest) returns (GetAppResponse);
    rpc GetAllApps(GetAllAppsRequest) returns (GetAllAppsResponse);
    rpc CreateApp(CreateAppRequest) returns (CreateAppResponse);
    rpc UpdateApp(UpdateAppRequest) returns (UpdateAppResponse);
    rpc DeleteApp(DeleteAppRequest) returns (DeleteAppResponse);
    rpc ChangeStatusApp(ChangeStatusAppRequest) returns (ChangeStatusAppResponse);
    rpc IsAdmin(IsAdminRequest) returns (IsAdminResponse);
    rpc AddAdmin(AddAdminRequest) returns (AddAdminResponse);
    rpc RemoveAdmin(RemoveAdminRequest) returns (RemoveAdminResponse);
}

message AppModel {
    uint32 id = 1;
    string name = 2;
    string link = 3;
    bool isenabled = 4;
}

message GetAppRequest {
    uint32 id = 1;
}

message GetAppResponse {
    AppModel app = 1;
}

message GetAllAppsRequest {}

message GetAllAppsResponse {
    repeated AppModel apps = 1;
}

message CreateAppRequest {
    string name = 1;
    string link = 2;
}

message CreateAppResponse {
    AppModel app = 1;
}

message UpdateAppRequest {
    uint32 id = 1;
    string name = 2;
    string link = 3;
}

message UpdateAppResponse {}

message DeleteAppRequest {
    uint32 id = 1;
}

message DeleteAppResponse {}

message ChangeStatusAppRequest {
    uint32 id = 1;
}

message ChangeStatusAppResponse {}

message IsAdminRequest {
    uint32 user_id = 1;
    uint32 app_id = 2;
}

message IsAdminResponse {
    bool is_admin = 1;
}

message AddAdminRequest {
    uint32 user_id = 1;
    uint32 app_id = 2;
}

message AddAdminResponse {}

message RemoveAdminRequest {
    uint32 user_id = 1;
    uint32 app_id = 2;
}

message RemoveAdminResponse {}